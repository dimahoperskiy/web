<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<a href="http://localhost:8080/">Назад</a>
<div class="rendered-form">
    <h1>Поиск клиента</h1>
    <div class="">
        <h2 access="false" id="control-8536483">Контактная информация</h2></div>
    <div class="formbuilder-text form-group field-text-1647104035673">
        <label for="text-1647104035673" class="formbuilder-text-label">ФИО</label>
        <input disabled type="text" placeholder="Иванов Иван Иванович" class="form-control" name="text-1647104035673" access="false" id="text-1647104035673">
    </div>
    <div class="formbuilder-text form-group field-text-1647104078840">
        <label for="text-1647104078840" class="formbuilder-text-label">Номер телефона</label>
        <input disabled type="text" placeholder="+79999999999" class="form-control" name="text-1647104078840" access="false" id="text-1647104078840">
    </div>
    <div class="formbuilder-text form-group field-text-1647104161598">
        <label for="text-1647104161598" class="formbuilder-text-label">Email</label>
        <input disabled type="text" placeholder="example@mail.com" class="form-control" name="text-1647104161598" access="false" id="text-1647104161598">
    </div>
    <div class="">
        <h2 access="false" id="control-7292373">Данные для проверки</h2></div>
    <div class="formbuilder-select form-group field-select-1647104191062">
        <label for="select-1647104191062" class="formbuilder-select-label">Пол</label>
        <select disabled class="form-control" name="select-1647104191062" id="select-1647104191062">
            <option value="M" id="select-1647104191062-0">Мужской</option>
            <option value="F" id="select-1647104191062-1">Женский</option>
        </select>
    </div>
    <div class="formbuilder-date form-group field-date-1647104246056">
        <label for="date-1647104246056" class="formbuilder-date-label">Дата рождения</label>
        <input disabled type="date" placeholder="11.01.2002" class="form-control" name="date-1647104246056" access="false" id="date-1647104246056">
    </div>
    <div class="formbuilder-number form-group field-number-1647104350674">
        <label for="number-1647104350674" class="formbuilder-number-label">Сколько лет вы проживаете в своем регионе?</label>
        <input disabled type="number" class="form-control" name="number-1647104350674" access="false" id="number-1647104350674">
    </div>
    <div class="formbuilder-select form-group field-select-1647104599298">
        <label for="select-1647104599298" class="formbuilder-select-label">Профессия</label>
        <select disabled class="form-control" name="select-1647104599298" id="select-1647104599298">
            <option value="driverPolicemanPilot" selected="true" id="select-1647104599298-0">Водитель, полицейский или пилот</option>
            <option value="devTeacher" id="select-1647104599298-1">Программист или преподаватель</option>
            <option value="other" id="select-1647104599298-2">Другое</option>
        </select>
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104757417">
        <label for="radio-group-1647104757417" class="formbuilder-radio-group-label">Работаю на государство</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104757417" access="false" id="radio-group-1647104757417-0" value=true type="radio">
                <label for="radio-group-1647104757417-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104757417" access="false" id="radio-group-1647104757417-1" value=false type="radio">
                <label for="radio-group-1647104757417-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-number form-group field-number-1647104886214">
        <label for="number-1647104886214" class="formbuilder-number-label">Сколько лет работаете на последнем месте работы?</label>
        <input disabled type="number" class="form-control" name="number-1647104886214" access="false" id="number-1647104886214">
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104921642">
        <label for="radio-group-1647104921642" class="formbuilder-radio-group-label">Есть банковский счет</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104921642" access="false" id="radio-group-1647104921642-0" value="true" type="radio">
                <label for="radio-group-1647104921642-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104921642" access="false" id="radio-group-1647104921642-1" value="false" type="radio">
                <label for="radio-group-1647104921642-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104946764">
        <label for="radio-group-1647104946764" class="formbuilder-radio-group-label">Есть недвижимость</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104946764" access="false" id="radio-group-1647104946764-0" value="true" type="radio">
                <label for="radio-group-1647104946764-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104946764" access="false" id="radio-group-1647104946764-1" value="false" type="radio">
                <label for="radio-group-1647104946764-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104978853">
        <label for="radio-group-1647104978853" class="formbuilder-radio-group-label">Есть страховка</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104978853" access="false" id="radio-group-1647104978853-0" value="true" type="radio">
                <label for="radio-group-1647104978853-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input disabled name="radio-group-1647104978853" access="false" id="radio-group-1647104978853-1" value="false" type="radio">
                <label for="radio-group-1647104978853-1">Нет</label>
            </div>
        </div>
    </div>
</div>
<h1>Данные по почте клиента</h1>
<input name="mail" id="mail" placeholder="ваня">
<label for="mail">Почта клиента</label>
<button onclick="find()">Найти</button>


<script>

    const find = async () => {
        const email = document.getElementById("mail").value

        let client

        try {
            client = await fetch("http://localhost:8080/client/" + email)
            client = await client.json()
            client = client.client

            const res = {
                name: document.getElementById("text-1647104035673").value=client.name,
                number: document.getElementById("text-1647104078840").value=client.number,
                email: document.getElementById("text-1647104161598").value=client.email,
                gender: document.getElementById("select-1647104191062").value=client.gender,
                dateOfBirth: document.getElementById("date-1647104246056").value=client.dateOfBirth,
                yearsInRegion: document.getElementById("number-1647104350674").value=client.yearsInRegion,
                profession: document.getElementById("select-1647104599298").value=client.profession,
                workingForGovernment: (
                    client.workingForGovernment?
                        document.getElementById("radio-group-1647104757417-0").checked = true:
                        document.getElementById("radio-group-1647104757417-1").checked = true
                ),
                jobYears: document.getElementById("number-1647104886214").value=client.jobYears,
                hasBankAccount: (
                    client.hasBankAccount?
                        document.getElementById("radio-group-1647104921642-0").checked = true:
                        document.getElementById("radio-group-1647104921642-1").checked = true
                ),
                hasRealEstate: (
                    client.hasRealEstate?
                        document.getElementById("radio-group-1647104946764-0").checked = true:
                        document.getElementById("radio-group-1647104946764-1").checked = true
                ),
                hasInsurance: (
                    client.hasInsurance?
                        document.getElementById("radio-group-1647104978853-0").checked = true:
                        document.getElementById("radio-group-1647104978853-1").checked = true
                ),
            }

        } catch {
            alert("Нет клиента с такой почтой")
            document.querySelectorAll("input").forEach(el => el.value = "")
        }


    }
</script>
</body>
</html>