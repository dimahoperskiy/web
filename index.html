<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div class="rendered-form">
    <div class="">
        <h1 access="false" id="control-8536483">Контактная информация</h1></div>
    <div class="formbuilder-text form-group field-text-1647104035673">
        <label for="text-1647104035673" class="formbuilder-text-label">ФИО</label>
        <input type="text" placeholder="Иванов Иван Иванович" class="form-control" name="text-1647104035673" access="false" id="text-1647104035673">
    </div>
    <div class="formbuilder-text form-group field-text-1647104078840">
        <label for="text-1647104078840" class="formbuilder-text-label">Номер телефона</label>
        <input type="text" placeholder="+79999999999" class="form-control" name="text-1647104078840" access="false" id="text-1647104078840">
    </div>
    <div class="formbuilder-text form-group field-text-1647104161598">
        <label for="text-1647104161598" class="formbuilder-text-label">Email</label>
        <input type="text" placeholder="example@mail.com" class="form-control" name="text-1647104161598" access="false" id="text-1647104161598">
    </div>
    <div class="">
        <h1 access="false" id="control-7292373">Данные для проверки</h1></div>
    <div class="formbuilder-select form-group field-select-1647104191062">
        <label for="select-1647104191062" class="formbuilder-select-label">Пол</label>
        <select class="form-control" name="select-1647104191062" id="select-1647104191062">
            <option value="M" id="select-1647104191062-0">Мужской</option>
            <option value="F" id="select-1647104191062-1">Женский</option>
        </select>
    </div>
    <div class="formbuilder-date form-group field-date-1647104246056">
        <label for="date-1647104246056" class="formbuilder-date-label">Дата рождения</label>
        <input type="date" placeholder="11.01.2002" class="form-control" name="date-1647104246056" access="false" id="date-1647104246056">
    </div>
    <div class="formbuilder-number form-group field-number-1647104350674">
        <label for="number-1647104350674" class="formbuilder-number-label">Сколько лет вы проживаете в своем регионе?</label>
        <input type="number" class="form-control" name="number-1647104350674" access="false" id="number-1647104350674">
    </div>
    <div class="formbuilder-select form-group field-select-1647104599298">
        <label for="select-1647104599298" class="formbuilder-select-label">Профессия</label>
        <select class="form-control" name="select-1647104599298" id="select-1647104599298">
            <option value="driverPolicemanPilot" selected="true" id="select-1647104599298-0">Водитель, полицейский или пилот</option>
            <option value="devTeacher" id="select-1647104599298-1">Программист или преподаватель</option>
            <option value="other" id="select-1647104599298-2">Другое</option>
        </select>
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104757417">
        <label for="radio-group-1647104757417" class="formbuilder-radio-group-label">Работаю на государство</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input name="radio-group-1647104757417" access="false" checked id="radio-group-1647104757417-0" value=true type="radio">
                <label for="radio-group-1647104757417-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input name="radio-group-1647104757417" access="false" id="radio-group-1647104757417-1" value=false type="radio">
                <label for="radio-group-1647104757417-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-number form-group field-number-1647104886214">
        <label for="number-1647104886214" class="formbuilder-number-label">Сколько лет работаете на последнем месте работы?</label>
        <input type="number" class="form-control" name="number-1647104886214" access="false" id="number-1647104886214">
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104921642">
        <label for="radio-group-1647104921642" class="formbuilder-radio-group-label">Есть банковский счет</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input name="radio-group-1647104921642" access="false" checked id="radio-group-1647104921642-0" value="true" type="radio">
                <label for="radio-group-1647104921642-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input name="radio-group-1647104921642" access="false" id="radio-group-1647104921642-1" value="false" type="radio">
                <label for="radio-group-1647104921642-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104946764">
        <label for="radio-group-1647104946764" class="formbuilder-radio-group-label">Есть недвижимость</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input name="radio-group-1647104946764" access="false" id="radio-group-1647104946764-0" checked value="true" type="radio">
                <label for="radio-group-1647104946764-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input name="radio-group-1647104946764" access="false" id="radio-group-1647104946764-1" value="false" type="radio">
                <label for="radio-group-1647104946764-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-radio-group form-group field-radio-group-1647104978853">
        <label for="radio-group-1647104978853" class="formbuilder-radio-group-label">Есть страховка</label>
        <div class="radio-group">
            <div class="formbuilder-radio">
                <input name="radio-group-1647104978853" access="false" id="radio-group-1647104978853-0" checked value="true" type="radio">
                <label for="radio-group-1647104978853-0">Да</label>
            </div>
            <div class="formbuilder-radio">
                <input name="radio-group-1647104978853" access="false" id="radio-group-1647104978853-1" value="false" type="radio">
                <label for="radio-group-1647104978853-1">Нет</label>
            </div>
        </div>
    </div>
    <div class="formbuilder-button form-group field-button-1647104993457">
        <button onclick="submit()" type="button" class="btn-default btn" name="button-1647104993457" access="false" style="default" id="button-1647104993457">Отправить</button>
    </div>
</div>

<a href="http://localhost:8080/find">Найти данные о клиенте по почте</a>

<script>
    const submit = async () => {
        const res = {
            name: document.getElementById("text-1647104035673").value,
            number: document.getElementById("text-1647104078840").value,
            email: document.getElementById("text-1647104161598").value,
            gender: document.getElementById("select-1647104191062").value,
            dateOfBirth: document.getElementById("date-1647104246056").value,
            yearsInRegion: Number(document.getElementById("number-1647104350674").value),
            profession: document.getElementById("select-1647104599298").value,
            workingForGovernment: document.getElementById("radio-group-1647104757417-0").checked,
            jobYears: document.getElementById("number-1647104886214").value,
            hasBankAccount: document.getElementById("radio-group-1647104921642-0").checked,
            hasRealEstate: document.getElementById("radio-group-1647104946764-0").checked,
            hasInsurance: document.getElementById("radio-group-1647104978853-0").checked
        }

        var myHeaders = new Headers();
        myHeaders.append("Content-Type", "application/json");

        var raw = JSON.stringify(res);

        var requestOptions = {
            method: 'POST',
            headers: myHeaders,
            body: raw,
        };

        let ans = await fetch("http://localhost:8080", requestOptions)
        let js = await ans.json()
        document.querySelectorAll("input").forEach(el => el.value = "")
        alert(js.text)
    }
</script>
</body>
</html>